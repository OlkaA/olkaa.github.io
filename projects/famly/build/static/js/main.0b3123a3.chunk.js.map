{"version":3,"sources":["api/index.js","components/ListOfChildren.jsx","components/TimePicker.jsx","components/CheckIn.jsx","components/CheckOut.jsx","App.js","index.js"],"names":["childrenAPI","accessToken","groupId","institutionId","fetchChildrenAPI","a","fetch","response","json","getChild","id","data","children","find","x","childId","signInChild","pickupTime","encodeURIComponent","method","signOutChild","ListOfChildren","state","this","getFetchData","API","resp","setState","className","map","child","key","to","checkedIn","src","image","small","alt","name","fullName","split","slice","Component","TimePicker","props","hour","minute","selectHour","bind","selectMinute","hours","minutes","getTime","onClick","getTimeString","CheckIn","time","success","signIn","error","alert","firstName","disabled","CheckOut","signOut","App","basename","exact","path","render","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0b3123a3.chunk.js","sourcesContent":["const childrenAPI = 'https://tryfamly.co/api/daycare/tablet/group';\r\nconst accessToken = '234ffdb8-0889-4be3-b096-97ab1679752c';\r\nconst groupId = '11fc220c-ebba-4e55-9346-cd1eed714620';\r\nconst institutionId = 'fb6c8114-387e-4051-8cf7-4e388a77b673';\r\n\r\nasync function fetchChildrenAPI() {\r\n    const response = await fetch(`${childrenAPI}?accessToken=${accessToken}&groupId=${groupId}&institutionId=${institutionId}`);\r\n    return await response.json();\r\n}\r\n\r\nasync function getChild(id) {\r\n    const response = await fetch(`${childrenAPI}?accessToken=${accessToken}&groupId=${groupId}&institutionId=${institutionId}`);\r\n    const data = await response.json();\r\n    return data.children.find(x => x.childId === id)\r\n}\r\n\r\nasync function signInChild(id, pickupTime) {\r\n    const response = await fetch(`https://tryfamly.co/api/v2/children/${id}/checkins?accessToken=${accessToken}&pickupTime=${encodeURIComponent(pickupTime)}`,\r\n        {\r\n            method: 'POST'\r\n        });\r\n    return await response.json();\r\n}\r\n\r\nasync function signOutChild(id) {\r\n    const response = await fetch(`https://tryfamly.co/api/v2/children/${id}/checkout?accessToken=${accessToken}`,\r\n        {\r\n            method: 'POST',\r\n        });\r\n    return await response.json();\r\n}\r\n\r\nexport { fetchChildrenAPI, getChild, signInChild, signOutChild };","import React, { Component } from 'react';\r\nimport * as API from '../api/index';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ListOfChildren extends Component {\r\n    state = {\r\n        children: [],\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getFetchData();\r\n    }\r\n\r\n    async getFetchData() {\r\n        const resp = await API.fetchChildrenAPI();\r\n        const children = resp.children || [];\r\n        this.setState({ children });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul className=\"children\">\r\n                {this.state.children.map(child =>\r\n                    (<li key={child.childId}>\r\n                        <Link to={(child.checkedIn ? '/out' : '/in') + '/' + child.childId}\r\n                        >\r\n                            <div className={child.checkedIn ? 'checked-in-img' : 'not-checked-in'}>\r\n                                <img src={child.image.small} alt={child.name.fullName} />\r\n                            </div>\r\n                            <span>{child.name.fullName}</span>\r\n                            <p className=\"pickup-time\">{child.pickupTime && child.checkedIn && child.pickupTime.split('T')[1].slice(0, 5)}</p>\r\n                            <p className={child.checkedIn ? 'checked-in' : 'not-checked-in'}>{child.checkedIn ? 'checked in' : 'not checked in'}</p>\r\n                        </Link>\r\n                    </li>))}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListOfChildren;","import React, { Component } from 'react';\r\n\r\nclass TimePicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.selectHour = this.selectHour.bind(this);\r\n        this.selectMinute = this.selectMinute.bind(this);\r\n    }\r\n\r\n    state = {\r\n        hour: null,\r\n        minute: null,\r\n\r\n    }\r\n\r\n    getTimeString(hours, minutes) {\r\n        let hour = hours > 12 ? hours - 12 : hours;\r\n        let minute = typeof minutes !== 'undefined' ? ':' + minutes : '';\r\n        const postfix = hours > 11 ? 'pm' : 'am';\r\n        return hour + minute + postfix;\r\n    }\r\n\r\n    selectHour(hour) {\r\n        this.setState({ hour });\r\n        this.setState({ minute: null }, () => this.props.getTime(this.state.hour, this.state.minute));\r\n    }\r\n\r\n    selectMinute(minute) {\r\n        this.setState({ minute }, () => this.props.getTime(this.state.hour, this.state.minute));\r\n    }\r\n\r\n    render() {\r\n        const hours = [8, 9, 10, 11, 12, 13, 14, 15, 16];\r\n        const minutes = [0, 15, 30, 45];\r\n\r\n        return (\r\n            <div>\r\n                <ul className=\"hours\">\r\n                    {hours.map(hour => {\r\n                        return (<li key={hour} onClick={() => this.selectHour(hour)} className={hour === this.state.hour ? 'selected' : null}>\r\n                            {this.getTimeString(hour)}\r\n                        </li>)\r\n                    })}\r\n                </ul>\r\n                {this.state.hour ? (<ul className=\"minutes\">\r\n                    {minutes.map(minute => {\r\n                        return (<li key={minute} onClick={() => this.selectMinute(minute)} className={minute === this.state.minute ? 'selected' : null}>\r\n                            {this.getTimeString(this.state.hour, minute)}\r\n                        </li>)\r\n                    })}\r\n                </ul>) : ''}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default TimePicker;","import React, { Component } from 'react';\r\nimport * as API from '../api/index';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport TimePicker from './TimePicker';\r\n\r\nclass CheckIn extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.signIn = this.signIn.bind(this);\r\n    }\r\n\r\n    state = {\r\n        child: null,\r\n        time: null,\r\n        success: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getFetchData();\r\n    }\r\n\r\n    async getFetchData() {\r\n        const resp = await API.getChild(this.props.id);\r\n        this.setState({ child: resp });\r\n    }\r\n\r\n    getTime = (hours, minute) => {\r\n        const time = hours && minute ? `${hours}:${minute}` : null;\r\n        this.setState({ time });\r\n    }\r\n\r\n    async signIn() {\r\n        if (this.state.child && this.state.time) {\r\n            const resp = await API.signInChild(this.state.child.childId, this.state.time);\r\n            if (resp.error) {\r\n                alert(resp.error);\r\n            } else {\r\n                this.setState({ success: true });\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.success) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return this.state.child ? (\r\n            <div className=\"child-page\">\r\n                <div>\r\n                    <img src={this.state.child.image.small} alt={this.state.child.name.fullName} />\r\n                </div>\r\n                <span>{this.state.child.name.fullName}</span>\r\n                <p>Choose when {this.state.child.name.firstName} will be picked up: {this.state.time} </p>\r\n\r\n                <TimePicker getTime={this.getTime} />\r\n                <div className=\"footer\">\r\n                    <Link className=\"close\" to=\"/\">Close</Link>\r\n                    <a className=\"sign-in\" onClick={this.signIn} disabled={!this.state.time}>Sign in</a>\r\n                </div>\r\n            </div>\r\n        ) : '';\r\n    }\r\n}\r\n\r\nexport default CheckIn;","import React, { Component } from 'react';\r\nimport * as API from '../api/index';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nclass CheckOut extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.signOut = this.signOut.bind(this);\r\n    }\r\n\r\n    state = {\r\n        child: null,\r\n        success: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getFetchData();\r\n    }\r\n\r\n    async getFetchData() {\r\n        const resp = await API.getChild(this.props.id);\r\n        this.setState({ child: resp });\r\n    }\r\n\r\n    async signOut() {\r\n        if (this.state.child !== 'null') {\r\n            const resp = await API.signOutChild(this.state.child.childId);\r\n            if (resp.error) {\r\n                alert(resp.error);\r\n            } else {\r\n                this.setState({ success: true });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.success) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return this.state.child ? (\r\n            <div className=\"child-page\">\r\n                <div>\r\n                    <img src={this.state.child.image.small} alt={this.state.child.name.fullName} />\r\n                </div>\r\n                <span>{this.state.child.name.fullName}</span>\r\n\r\n                <div className=\"footer\">\r\n                    <Link className=\"close\" to=\"/\">Close</Link>\r\n                    <a className=\"sign-out\" onClick={this.signOut}>Sign out</a>\r\n                </div>\r\n            </div>\r\n        ) : '';\r\n    }\r\n}\r\n\r\nexport default CheckOut;","import React from 'react';\r\nimport './App.css';\r\nimport {\r\n  Switch,\r\n  BrowserRouter as Router,\r\n  Route\r\n} from 'react-router-dom';\r\nimport ListOfChildren from './components/ListOfChildren';\r\nimport CheckIn from './components/CheckIn';\r\nimport CheckOut from './components/CheckOut';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Router basename=\"/projects/famly/build\">\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <ListOfChildren />\r\n          </Route>\r\n          <Route exact path='/in/:id' render={({ match }) => <CheckIn id={match.params.id} />}>\r\n          </Route>\r\n          <Route exact path='/out/:id' render={({ match }) => <CheckOut id={match.params.id} />}>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n"],"sourceRoot":""}